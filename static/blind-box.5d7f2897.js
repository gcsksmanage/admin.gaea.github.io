import{d as S,r as d,e as _,I as T,o as m,c as k,f as l,w as r,u as e,g as f,s as b,v as B,t as R,E as w,j,i as L,k as q,l as z,x as A,z as G,B as M,p as P,a as U,b as $,_ as H}from"./entry.15a76552.js";/* empty css                        *//* empty css                 *//* empty css                *//* empty css                  *//* empty css                 *//* empty css               */import"./el-tooltip.4ed993c7.js";/* empty css                     *//* empty css                   */import{m as J}from"./adminManage.c8246d07.js";import{t as K}from"./throttle.46d02480.js";import"./request.72540ff6.js";const O=i=>(P("data-v-4b884a2f"),i=i(),U(),i),Q={class:"text-[#EBEBEB] pt-10 px-5"},W={class:"cursor-pointer hover:text-[#ebebeb]"},X=O(()=>$("span",{class:"iconfont icon-icon-copy"},null,-1)),Y=S({__name:"blind-box",setup(i){const E=d(!1),c=d(!1),u=_({content:[]}),g=d(),y=d(),I=_({number:[{required:!0,message:"请输入",trigger:"blur"}]}),p=_({number:null}),C=t=>{t&&t.resetFields()},F=async t=>{t&&(c.value||await t.validate(async(o,v)=>{if(o)try{c.value=!0;const s=await J({number:p.number});s.code===200?(w.success({message:"创建成功",grouping:!0,type:"success"}),u.content=s.msg.map(([a,x])=>({cdkey:a})),y.value=u.content.map(a=>a.cdkey).join(`
`)):w.error({message:s.msg,grouping:!0,type:"error"})}catch{}finally{c.value=!1,C(t)}}))};return(t,o)=>{const v=j,s=L,a=q,x=z,V=A,D=G,h=T("copy"),N=M;return m(),k("div",Q,[l(x,{ref_key:"ruleFormRef",ref:g,inline:!0,"label-position":"right","label-width":"90px",model:e(p),rules:e(I),class:"flex w-fit"},{default:r(()=>[l(s,{label:"盲盒数:",prop:"number"},{default:r(()=>[l(v,{min:1,max:200,style:{width:"240px"},"controls-position":"right",modelValue:e(p).number,"onUpdate:modelValue":o[0]||(o[0]=n=>e(p).number=n),placeholder:"请输入需要创建的盲盒数量",clearable:""},null,8,["modelValue"])]),_:1}),l(a,{class:"w-[20%]",type:"success",loading:e(c),onClick:o[1]||(o[1]=n=>("throttle"in t?t.throttle:e(K))(()=>{F(e(g))}))},{default:r(()=>[f(" 创建 ")]),_:1},8,["loading"]),b((m(),B(a,{type:"primary"},{default:r(()=>[f(" 复制所有盲盒cdkey ")]),_:1})),[[h,e(y)]])]),_:1},8,["model","rules"]),b((m(),B(D,{ref:"multipleTableRef",height:"650px",data:e(u).content,border:""},{default:r(()=>[l(V,{prop:"cdkey",label:"cdkey",align:"center"},{default:r(n=>[b((m(),k("div",W,[f(R(n.row.cdkey)+" ",1),X])),[[h,n.row.cdkey]])]),_:1})]),_:1},8,["data"])),[[N,e(E)]])])}}});const me=H(Y,[["__scopeId","data-v-4b884a2f"]]);export{me as default};
