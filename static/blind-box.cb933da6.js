import{d as S,r as u,e as _,I as T,o as p,c as B,f as l,w as r,u as e,g as b,s as f,v as k,t as P,E as w,j as R,i as j,k as L,l as q,x as z,z as A,B as G,p as M,a as U,b as $,_ as H}from"./entry.10915f71.js";/* empty css                        *//* empty css                 *//* empty css                *//* empty css                  *//* empty css                 *//* empty css               */import"./el-tooltip.4ed993c7.js";/* empty css                     *//* empty css                   */import{m as J}from"./adminManage.64a87747.js";import{t as K}from"./throttle.46d02480.js";import"./request.aee2d5ca.js";const O=i=>(M("data-v-7097c5ba"),i=i(),U(),i),Q={class:"text-[#EBEBEB] pt-10 px-5"},W={class:"cursor-pointer hover:text-[#ebebeb]"},X=O(()=>$("span",{class:"iconfont icon-icon-copy"},null,-1)),Y=S({__name:"blind-box",setup(i){const C=u(!1),c=u(!1),m=_({content:[]}),y=u(),g=u(),E=_({number:[{required:!0,message:"Please enter",trigger:"blur"}]}),d=_({number:null}),I=t=>{t&&t.resetFields()},F=async t=>{t&&(c.value||await t.validate(async(o,v)=>{if(o)try{c.value=!0;const s=await J({number:d.number});s.code===200?(w.success({message:"Created successfully",grouping:!0,type:"success"}),m.content=s.msg.map(([a,x])=>({cdkey:a})),g.value=m.content.map(a=>a.cdkey).join(`
`)):w.error({message:s.msg,grouping:!0,type:"error"})}catch{}finally{c.value=!1,I(t)}}))};return(t,o)=>{const v=R,s=j,a=L,x=q,V=z,D=A,h=T("copy"),N=G;return p(),B("div",Q,[l(x,{ref_key:"ruleFormRef",ref:y,inline:!0,"label-position":"right","label-width":"140px",model:e(d),rules:e(E),class:"flex w-fit"},{default:r(()=>[l(s,{label:"Blind Box Count:",prop:"number"},{default:r(()=>[l(v,{min:1,max:200,style:{width:"240px"},"controls-position":"right",modelValue:e(d).number,"onUpdate:modelValue":o[0]||(o[0]=n=>e(d).number=n),placeholder:"Please enter the number of blind boxes to create",clearable:""},null,8,["modelValue"])]),_:1}),l(a,{class:"w-[20%]",type:"success",loading:e(c),onClick:o[1]||(o[1]=n=>("throttle"in t?t.throttle:e(K))(()=>{F(e(y))}))},{default:r(()=>[b(" Create ")]),_:1},8,["loading"]),f((p(),k(a,{type:"primary"},{default:r(()=>[b(" Copy all blind box cdkeys ")]),_:1})),[[h,e(g)]])]),_:1},8,["model","rules"]),f((p(),k(D,{ref:"multipleTableRef",height:"650px",data:e(m).content,border:""},{default:r(()=>[l(V,{prop:"cdkey",label:"cdkey",align:"center"},{default:r(n=>[f((p(),B("div",W,[b(P(n.row.cdkey)+" ",1),X])),[[h,n.row.cdkey]])]),_:1})]),_:1},8,["data"])),[[N,e(C)]])])}}});const pe=H(Y,[["__scopeId","data-v-7097c5ba"]]);export{pe as default};
