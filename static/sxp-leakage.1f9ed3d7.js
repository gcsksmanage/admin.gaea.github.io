import{d as N,r as E,e as C,n as P,H as R,I as $,o as i,c,f as s,w as n,u as o,J as I,K as S,g as u,b as m,s as y,v as U,t as b,E as v,P as j,i as H,k as M,l as G,x as J,z as K,A as q,B as Q,O as W}from"./entry.15a76552.js";/* empty css                       *//* empty css                *//* empty css                  *//* empty css                 *//* empty css               */import"./el-tooltip.4ed993c7.js";/* empty css                     *//* empty css                      *//* empty css                 *//* empty css                  *//* empty css                   */import{N as X,O as Y}from"./adminManage.c8246d07.js";import"./request.72540ff6.js";const Z={class:"w-full flex flex-col space-y-2 p-6"},ee={class:"w-full flex-1 overflow-y-auto"},te={class:"cursor-pointer hover:text-[#ebebeb]"},oe=m("span",{class:"iconfont icon-icon-copy"},null,-1),ae={key:0,class:"cursor-pointer hover:text-[#ebebeb]"},se=m("span",{class:"iconfont icon-icon-copy"},null,-1),ne={key:1},le={class:"flex justify-end"},he=N({__name:"sxp-leakage",setup(re){const p=E(!1),_=E(!1),A=[{value:1,key:1,label:"snft"},{value:2,key:2,label:"anft"}],a=C({airdrop_type:1,page:1,limit:20}),r=C({content:[],totalElements:0}),z=l=>{a.page=l,d()},B=l=>{a.limit=l,d()},d=async()=>{try{const l={...a};p.value=!0;const t=await X(l);p.value=!1,t.code===200?(r.content=t.data.map(f=>({...f,loading:!1})),r.totalElements=t.total):(r.content=[],r.totalElements=0,v({message:t.msg,grouping:!0,type:"error"}))}catch{p.value=!1}},O=async()=>{try{_.value=!0,(await Y(a.airdrop_type)).code===200?(v.success({message:"补发成功",grouping:!0,type:"success"}),d()):v.success({message:"补发失败",grouping:!0,type:"success"})}catch{}finally{_.value=!1}};return P(async()=>{await R(),d()}),(l,t)=>{const f=W,T=j,w=H,x=M,V=G,g=J,D=K,F=q,h=$("copy"),L=Q;return i(),c("div",Z,[s(V,{ref:"ruleFormRef",inline:!0,"label-position":"right",model:o(a)},{default:n(()=>[s(w,{label:"补发类型:",prop:"type"},{default:n(()=>[s(T,{modelValue:o(a).airdrop_type,"onUpdate:modelValue":t[0]||(t[0]=e=>o(a).airdrop_type=e)},{default:n(()=>[(i(),c(I,null,S(A,(e,k)=>s(f,{label:e.key,key:e.key},{default:n(()=>[u(b(e.label),1)]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),_:1}),s(w,null,{default:n(()=>{var e;return[s(x,{class:"w-[100px]",type:"primary",onClick:t[1]||(t[1]=k=>d()),loading:o(p)},{default:n(()=>[u(" 搜索 ")]),_:1},8,["loading"]),s(x,{class:"w-[100px]",type:"success",onClick:t[2]||(t[2]=k=>O()),loading:o(_),disabled:((e=o(r).content)==null?void 0:e.length)===0},{default:n(()=>[u(" 补发 ")]),_:1},8,["loading","disabled"])]}),_:1})]),_:1},8,["model"]),m("div",ee,[y((i(),U(D,{ref:"multipleTableRef",height:"530px",data:o(r).content,border:""},{default:n(()=>[s(g,{prop:"address",label:"钱包地址",align:"center"},{default:n(e=>[y((i(),c("div",te,[u(b(e.row.address)+" ",1),oe])),[[h,`${e.row.address}`]])]),_:1}),s(g,{prop:"userid",label:"用户ID",align:"center","show-overflow-tooltip":""},{default:n(e=>[e.row.userid?y((i(),c("div",ae,[u(b(e.row.userid)+" ",1),se])),[[h,`${e.row.userid}`]]):(i(),c("span",ne,"-"))]),_:1}),s(g,{prop:"amount",label:"数量",align:"center","show-overflow-tooltip":""})]),_:1},8,["data"])),[[L,o(p)]])]),m("div",le,[s(F,{"current-page":o(a).page,"onUpdate:currentPage":t[3]||(t[3]=e=>o(a).page=e),"page-size":o(a).limit,"onUpdate:pageSize":t[4]||(t[4]=e=>o(a).limit=e),"page-sizes":[20,50,100,500,1e3],layout:"total, sizes, prev, pager, next, jumper",total:o(r).totalElements,onCurrentChange:z,onSizeChange:B},null,8,["current-page","page-size","total"])])])}}});export{he as default};
