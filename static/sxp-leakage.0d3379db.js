import{d as L,r as E,e as A,n as N,H as P,I as S,o as i,c,f as s,w as n,u as o,J as U,K as $,g as u,b as m,s as y,v as I,t as b,E as v,P as j,i as H,k as M,l as G,x as J,z as K,A as Q,B as W,O as q}from"./entry.10915f71.js";/* empty css                       *//* empty css                *//* empty css                  *//* empty css                 *//* empty css               */import"./el-tooltip.4ed993c7.js";/* empty css                     *//* empty css                      *//* empty css                 *//* empty css                  *//* empty css                   */import{N as X,O as Y}from"./adminManage.64a87747.js";import"./request.aee2d5ca.js";const Z={class:"w-full flex flex-col space-y-2 p-6"},ee={class:"w-full flex-1 overflow-y-auto"},te={class:"cursor-pointer hover:text-[#ebebeb]"},oe=m("span",{class:"iconfont icon-icon-copy"},null,-1),ae={key:0,class:"cursor-pointer hover:text-[#ebebeb]"},se=m("span",{class:"iconfont icon-icon-copy"},null,-1),ne={key:1},le={class:"flex justify-end"},he=L({__name:"sxp-leakage",setup(re){const d=E(!1),f=E(!1),C=[{value:1,key:1,label:"snft"},{value:2,key:2,label:"anft"}],a=A({airdrop_type:1,page:1,limit:20}),r=A({content:[],totalElements:0}),z=l=>{a.page=l,p()},R=l=>{a.limit=l,p()},p=async()=>{try{const l={...a};d.value=!0;const t=await X(l);d.value=!1,t.code===200?(r.content=t.data.map(_=>({..._,loading:!1})),r.totalElements=t.total):(r.content=[],r.totalElements=0,v({message:t.msg,grouping:!0,type:"error"}))}catch{d.value=!1}},T=async()=>{try{f.value=!0,(await Y(a.airdrop_type)).code===200?(v.success({message:"Resend successful",grouping:!0,type:"success"}),p()):v.success({message:"Resend failed",grouping:!0,type:"success"})}catch{}finally{f.value=!1}};return N(async()=>{await P(),p()}),(l,t)=>{const _=q,B=j,w=H,x=M,O=G,g=J,V=K,D=Q,h=S("copy"),F=W;return i(),c("div",Z,[s(O,{ref:"ruleFormRef",inline:!0,"label-position":"right",model:o(a)},{default:n(()=>[s(w,{label:"Resend Type:",prop:"type"},{default:n(()=>[s(B,{modelValue:o(a).airdrop_type,"onUpdate:modelValue":t[0]||(t[0]=e=>o(a).airdrop_type=e)},{default:n(()=>[(i(),c(U,null,$(C,(e,k)=>s(_,{label:e.key,key:e.key},{default:n(()=>[u(b(e.label),1)]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),_:1}),s(w,null,{default:n(()=>{var e;return[s(x,{class:"w-[100px]",type:"primary",onClick:t[1]||(t[1]=k=>p()),loading:o(d)},{default:n(()=>[u(" Search ")]),_:1},8,["loading"]),s(x,{class:"w-[100px]",type:"success",onClick:t[2]||(t[2]=k=>T()),loading:o(f),disabled:((e=o(r).content)==null?void 0:e.length)===0},{default:n(()=>[u(" Resend ")]),_:1},8,["loading","disabled"])]}),_:1})]),_:1},8,["model"]),m("div",ee,[y((i(),I(V,{ref:"multipleTableRef",height:"530px",data:o(r).content,border:""},{default:n(()=>[s(g,{prop:"address",label:"Wallet Address",align:"center"},{default:n(e=>[y((i(),c("div",te,[u(b(e.row.address)+" ",1),oe])),[[h,`${e.row.address}`]])]),_:1}),s(g,{prop:"userid",label:"User ID",align:"center","show-overflow-tooltip":""},{default:n(e=>[e.row.userid?y((i(),c("div",ae,[u(b(e.row.userid)+" ",1),se])),[[h,`${e.row.userid}`]]):(i(),c("span",ne,"-"))]),_:1}),s(g,{prop:"amount",label:"Quantity",align:"center","show-overflow-tooltip":""})]),_:1},8,["data"])),[[F,o(d)]])]),m("div",le,[s(D,{"current-page":o(a).page,"onUpdate:currentPage":t[3]||(t[3]=e=>o(a).page=e),"page-size":o(a).limit,"onUpdate:pageSize":t[4]||(t[4]=e=>o(a).limit=e),"page-sizes":[20,50,100,500,1e3],layout:"total, sizes, prev, pager, next, jumper",total:o(r).totalElements,onCurrentChange:z,onSizeChange:R},null,8,["current-page","page-size","total"])])])}}});export{he as default};
