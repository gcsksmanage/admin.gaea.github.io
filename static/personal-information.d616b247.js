import{d as B,r as x,e as v,o as y,c as F,b as E,f as o,w as t,u as a,g as d,v as T,x as R,y as u,h as j,i as k,j as q,l as L,m as N,z as P,A as S,B as A,C as M}from"./entry.6befffdf.js";/* empty css                 *//* empty css                *//* empty css                  *//* empty css                 *//* empty css               */import"./el-tooltip.4ed993c7.js";/* empty css                     *//* empty css                      *//* empty css                  *//* empty css                   */import{u as $}from"./adminManage.32d587d5.js";import"./request.8c0f9019.js";const H={class:"w-full h-[85vh] flex flex-col space-y-5 px-5 pt-5"},X={class:"w-full flex items-center pl-10 pt-3"},G={class:"flex justify-end"},ie=B({__name:"personal-information",setup(J){const c=x(),f=x(!1),b=(m,l,s)=>{l&&l.length<5?s(new Error("输入内容长度必须大于等于5")):s()},V=v({uids:[{required:!1,trigger:"blur",validator:(m,l,s)=>{if(l.trim()){if(!/^\d+$/.test(l.trim())){s(new Error("UID 格式错误，必须为数字"));return}if(l.length!==14){s(new Error("UID 长度必须为14位"));return}s()}else s()}}],emails:[{required:!1,trigger:"blur",validator:b}],usernames:[{required:!1,trigger:"blur",validator:b}],form:[{validator:(m,l,s)=>{const{uids:p,emails:g,usernames:h}=n;!p&&!g&&!h?s(new Error("用户ID、邮箱、用户名至少填写一项")):s()},trigger:"submit"}]}),n=v({uids:"",emails:"",usernames:"",page:1,limit:10}),_=v({content:[],totalElements:0}),w=async m=>{await m.validate(async(l,s)=>{if(l)try{f.value=!0;const p=await $(n);f.value=!1,p.code===200?_.content=p.data:j({message:p.msg,grouping:!0,type:"error"})}catch{f.value=!1}})},C=m=>{n.page=m,w(c.value)},D=m=>{n.limit=m,w(c.value)};return(m,l)=>{const s=k,p=q,g=L,h=N,r=P,U=S,I=A,z=M;return y(),F("div",H,[E("div",X,[o(h,{ref_key:"ruleFormRef",ref:c,rules:a(V),inline:!0,"label-position":"right",model:a(n)},{default:t(()=>[o(p,{label:"用户ID:",prop:"uids",class:"w-[270px]"},{default:t(()=>[o(s,{modelValue:a(n).uids,"onUpdate:modelValue":l[0]||(l[0]=e=>a(n).uids=e),placeholder:"请输入",clearable:""},null,8,["modelValue"])]),_:1}),o(p,{label:"用户名:",prop:"usernames",class:"w-[270px]"},{default:t(()=>[o(s,{modelValue:a(n).usernames,"onUpdate:modelValue":l[1]||(l[1]=e=>a(n).usernames=e),placeholder:"请输入",clearable:""},null,8,["modelValue"])]),_:1}),o(p,{label:"邮箱:",prop:"emails",class:"w-[270px]"},{default:t(()=>[o(s,{modelValue:a(n).emails,"onUpdate:modelValue":l[2]||(l[2]=e=>a(n).emails=e),placeholder:"请输入",clearable:""},null,8,["modelValue"])]),_:1}),o(p,{prop:"form",style:{display:"none"}},{default:t(()=>[o(s)]),_:1}),o(p,null,{default:t(()=>[o(g,{class:"w-[100px]",type:"primary",onClick:l[3]||(l[3]=e=>w(a(c))),loading:a(f)},{default:t(()=>[d(" 搜索 ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["rules","model"])]),T((y(),R(U,{ref:"multipleTableRef",height:"650px",data:a(_).content,border:"",style:{height:"100%"},"header-cell-style":{background:"#e0eeee"}},{default:t(()=>[o(r,{prop:"userid",label:"用户ID",align:"center",width:"140px",fixed:"","show-overflow-tooltip":""}),o(r,{prop:"username",label:"用户名",align:"center","show-overflow-tooltip":""}),o(r,{prop:"email",label:"邮箱",align:"center","show-overflow-tooltip":""}),o(r,{prop:"created_time",label:"注册时间",align:"center","show-overflow-tooltip":""}),o(r,{prop:"eth_address",label:"ETH地址",align:"center","show-overflow-tooltip":""},{default:t(e=>[d(u(e.row.eth_address||"未绑定"),1)]),_:1}),o(r,{prop:"referral_code",label:"推荐码",align:"center","show-overflow-tooltip":""}),o(r,{prop:"username",label:"是否黑名单",align:"center",width:"100px","show-overflow-tooltip":""},{default:t(e=>[d(u(e.row.is_blacklist?"是":"否"),1)]),_:1}),o(r,{prop:"username",label:"是否验证邮箱",align:"center",width:"110px","show-overflow-tooltip":""},{default:t(e=>[d(u(e.row.state==="VERIFIED"?"是":"否"),1)]),_:1}),o(r,{prop:"username",label:"是否购卡",align:"center","show-overflow-tooltip":""},{default:t(e=>[d(u(e.row.is_godhood?"是":"否"),1)]),_:1}),o(r,{prop:"username",label:"社交X名称",align:"center",width:"100px","show-overflow-tooltip":""},{default:t(e=>[d(u(e.row.social_x_name||"未绑定"),1)]),_:1}),o(r,{prop:"username",label:"Discord名称",align:"center",width:"110px","show-overflow-tooltip":""},{default:t(e=>[d(u(e.row.social_dc_name||"未绑定"),1)]),_:1}),o(r,{prop:"all_connected",label:"连接设备数",align:"center",width:"110px","show-overflow-tooltip":""}),o(r,{prop:"username",label:"总积分",align:"center","show-overflow-tooltip":""},{default:t(e=>{var i;return[d(u(((i=e.row.today_info)==null?void 0:i.total_points)||"0"),1)]}),_:1}),o(r,{prop:"username",label:"挂机积分",align:"center","show-overflow-tooltip":""},{default:t(e=>{var i;return[d(u(((i=e.row.today_info)==null?void 0:i.network_points)||"0"),1)]}),_:1}),o(r,{prop:"username",label:"邀请积分",align:"center","show-overflow-tooltip":""},{default:t(e=>{var i;return[d(u(((i=e.row.today_info)==null?void 0:i.referral_points)||"0"),1)]}),_:1}),o(r,{prop:"username",label:"任务积分",align:"center","show-overflow-tooltip":""},{default:t(e=>{var i;return[d(u(((i=e.row.today_info)==null?void 0:i.earned_points)||"0"),1)]}),_:1}),o(r,{prop:"username",label:"soul积分",align:"center","show-overflow-tooltip":""},{default:t(e=>{var i;return[d(u(((i=e.row.today_info)==null?void 0:i.soul_points)||"0"),1)]}),_:1})]),_:1},8,["data"])),[[z,a(f)]]),E("div",G,[o(I,{"current-page":a(n).page,"onUpdate:currentPage":l[4]||(l[4]=e=>a(n).page=e),"page-size":a(n).limit,"onUpdate:pageSize":l[5]||(l[5]=e=>a(n).limit=e),"page-sizes":[20,50,100,500,1e3],layout:"total, sizes, prev, pager, next, jumper",total:a(_).totalElements,onCurrentChange:C,onSizeChange:D},null,8,["current-page","page-size","total"])])])}}});export{ie as default};
