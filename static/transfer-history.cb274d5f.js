import{d as C,r as c,e as d,n as z,H as T,o as f,c as k,f as o,w as i,u as a,g as B,b as _,s as U,v as V,E as D,h as F,i as I,k as P,l as M,x as N,z as S,A as j,B as A}from"./entry.89aa1c3d.js";/* empty css                 *//* empty css                *//* empty css                  *//* empty css                 *//* empty css               */import"./el-tooltip.4ed993c7.js";/* empty css                     *//* empty css                      *//* empty css                  *//* empty css                   */import{T as L}from"./adminManage.ae1f3a84.js";import"./request.c7cf0d48.js";const R={class:"w-full flex flex-col space-y-2 p-8"},H={class:"w-full flex-1 overflow-y-auto"},Q={class:"flex justify-end"},ne=C({__name:"transfer-history",setup($){const r=c(!1);c(!1),c("");const t=d({page:1,limit:20,uid:""}),l=d({content:[],totalElements:0}),g=n=>{t.page=n,p()},b=n=>{t.limit=n,p()},p=async()=>{try{if(!t.uid)return;const n={...t};r.value=!0;const e=await L(n);r.value=!1,e.code===200?(l.content=e.data,l.totalElements=e.total):(l.content=[],l.totalElements=0,D({message:e.msg,grouping:!0,type:"error"}))}catch{r.value=!1}};return z(async()=>{await T(),p()}),(n,e)=>{const v=F,u=I,x=P,E=M,m=N,y=S,h=j,w=A;return f(),k("div",R,[o(E,{ref:"ruleFormRef",inline:!0,"label-position":"right",model:a(t)},{default:i(()=>[o(u,{label:"User ID:",class:"w-[270px]"},{default:i(()=>[o(v,{modelValue:a(t).uid,"onUpdate:modelValue":e[0]||(e[0]=s=>a(t).uid=s),placeholder:"Please enter",clearable:""},null,8,["modelValue"])]),_:1}),o(u,null,{default:i(()=>[o(x,{class:"w-[100px]",type:"primary",onClick:e[1]||(e[1]=s=>p()),loading:a(r)},{default:i(()=>[B(" Search ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),_("div",H,[U((f(),V(y,{ref:"multipleTableRef",height:"530px",data:a(l).content,border:""},{default:i(()=>[o(m,{prop:"userid",label:"User ID",align:"center"}),o(m,{prop:"username",label:"Username",align:"center"}),o(m,{prop:"count",label:"Quantity",align:"center"})]),_:1},8,["data"])),[[w,a(r)]])]),_("div",Q,[o(h,{"current-page":a(t).page,"onUpdate:currentPage":e[2]||(e[2]=s=>a(t).page=s),"page-size":a(t).limit,"onUpdate:pageSize":e[3]||(e[3]=s=>a(t).limit=s),"page-sizes":[20,50,100,500,1e3],layout:"total, sizes, prev, pager, next, jumper",total:a(l).totalElements,onCurrentChange:g,onSizeChange:b},null,8,["current-page","page-size","total"])])])}}});export{ne as default};
