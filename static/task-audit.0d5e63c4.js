import{T as E,U as D,d as P,V as B,W as H,r as k,q as I,S as W,X as q,Y as K,Z as X,$ as G,a0 as Q,a1 as Y,a2 as Z,e as N,s as J,o as C,c as O,b as R,v as ee,u as g,x as S,w as m,f as i,g as x,y as A,E as j,h as w,z as te,a3 as ae,l as le,A as ne,B as re,C as oe,D as V,F as se,G as ie,H as ce}from"./entry.94a3082e.js";/* empty css                 *//* empty css               *//* empty css                  */import"./el-tooltip.4ed993c7.js";/* empty css                     *//* empty css                      *//* empty css                 *//* empty css                  *//* empty css                       *//* empty css                   *//* empty css                   */import{v as ue,x as z}from"./adminManage.703b34f5.js";import{s as de}from"./index.afb82750.js";/* empty css                */import"./request.a5d99a54.js";const L=globalThis.requestIdleCallback||(l=>{const a=Date.now(),u={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-a))};return setTimeout(()=>{l(u)},1)}),fe=globalThis.cancelIdleCallback||(l=>{clearTimeout(l)}),pe=l=>{const a=E();a.isHydrating?a.hooks.hookOnce("app:suspense:resolve",()=>{L(l)}):L(l)};async function U(l,a=D()){const{path:u,matched:e}=a.resolve(l);if(!e.length||(a._routePreloaded||(a._routePreloaded=new Set),a._routePreloaded.has(u)))return;const n=a._preloadPromises=a._preloadPromises||[];if(n.length>4)return Promise.all(n).then(()=>U(l,a));a._routePreloaded.add(u);const c=e.map(o=>{var p;return(p=o.components)==null?void 0:p.default}).filter(o=>typeof o=="function");for(const o of c){const p=Promise.resolve(o()).catch(()=>{}).finally(()=>n.splice(n.indexOf(p)));n.push(p)}await Promise.all(n)}const me=(...l)=>l.find(a=>a!==void 0),ge="noopener noreferrer";/*! @__NO_SIDE_EFFECTS__ */function he(l){const a=l.componentName||"NuxtLink",u=(e,n)=>{if(!e||l.trailingSlash!=="append"&&l.trailingSlash!=="remove")return e;const c=l.trailingSlash==="append"?Q:Y;if(typeof e=="string")return c(e,!0);const o="path"in e?e.path:n(e).path;return{...e,name:void 0,path:c(o,!0)}};return P({name:a,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1}},setup(e,{slots:n}){const c=D(),o=B(()=>{const t=e.to||e.href||"";return u(t,c.resolve)}),p=B(()=>e.external||e.target&&e.target!=="_self"?!0:typeof o.value=="object"?!1:o.value===""||H(o.value,{acceptRelative:!0})),h=k(!1),_=k(null),T=t=>{var r;_.value=e.custom?(r=t==null?void 0:t.$el)==null?void 0:r.nextElementSibling:t==null?void 0:t.$el};if(e.prefetch!==!1&&e.noPrefetch!==!0&&e.target!=="_blank"&&!ye()){const r=E();let s,f=null;I(()=>{const b=_e();pe(()=>{s=L(()=>{var y;(y=_==null?void 0:_.value)!=null&&y.tagName&&(f=b.observe(_.value,async()=>{f==null||f(),f=null;const v=typeof o.value=="string"?o.value:c.resolve(o.value).fullPath;await Promise.all([r.hooks.callHook("link:prefetch",v).catch(()=>{}),!p.value&&U(o.value,c).catch(()=>{})]),h.value=!0}))})})}),W(()=>{s&&fe(s),f==null||f(),f=null})}return()=>{var b,y;if(!p.value){const v={ref:T,to:o.value,activeClass:e.activeClass||l.activeClass,exactActiveClass:e.exactActiveClass||l.exactActiveClass,replace:e.replace,ariaCurrentValue:e.ariaCurrentValue,custom:e.custom};return e.custom||(h.value&&(v.class=e.prefetchedClass||l.prefetchedClass),v.rel=e.rel),q(K("RouterLink"),v,n.default)}const t=typeof o.value=="object"?((b=c.resolve(o.value))==null?void 0:b.href)??null:o.value||null,r=e.target||null,s=e.noRel?null:me(e.rel,l.externalRelAttribute,t?ge:"")||null,f=()=>Z(t,{replace:e.replace});return e.custom?n.default?n.default({href:t,navigate:f,get route(){if(!t)return;const v=X(t);return{path:v.pathname,fullPath:v.pathname,get query(){return G(v.search)},hash:v.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:t}},rel:s,target:r,isExternal:p.value,isActive:!1,isExactActive:!1}):null:q("a",{ref:_,href:t,rel:s,target:r},(y=n.default)==null?void 0:y.call(n))}}})}const ve=he({componentName:"NuxtLink"});function _e(){const l=E();if(l._observer)return l._observer;let a=null;const u=new Map,e=(c,o)=>(a||(a=new IntersectionObserver(p=>{for(const h of p){const _=u.get(h.target);(h.isIntersecting||h.intersectionRatio>0)&&_&&_()}})),u.set(c,o),a.observe(c),()=>{u.delete(c),a.unobserve(c),u.size===0&&(a.disconnect(),a=null)});return l._observer={observe:e}}function ye(){const l=navigator.connection;return!!(l&&(l.saveData||/2g/.test(l.effectiveType)))}const be={class:"w-full h-full flex flex-col space-y-2 p-6"},we={class:"w-full flex-1 overflow-y-auto"},xe={class:"flex justify-end"},Ce=P({__name:"Index",props:{level:{default:""}},setup(l){const a=l,u=k(!1),e=N({content:[],totalElements:0}),n=N({level:Number(a.level),page:1,limit:20}),c=t=>{n.page=t,h()},o=t=>{n.limit=t,h()},p=t=>{const f=new URL(t).pathname.split("_");return f[f.length-1]},h=async()=>{try{u.value=!0;const t={...n},r=await ue(t);u.value=!1,r.code&&(e.content=r.data.map(s=>({...s,passThroughLoading:!1,rejectLoading:!1})))}catch{u.value=!1}finally{u.value=!1}},_=t=>{j.confirm("please confirm?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(async()=>{try{t.passThroughLoading=!0;const r=await z({id:t.id,status:2});t.passThroughLoading=!1,r.code===200?(w.success(r.data),h()):w.error(r.msg)}catch{}finally{t.passThroughLoading=!1}}).catch(()=>{w({type:"info",message:"canceled"})})},T=t=>{j.confirm("please confirm?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(async()=>{try{t.rejectLoading=!0;const r=await z({id:t.id,status:-2});t.rejectLoading=!1,r.code===200?(w.success(r.data),h()):w.error(r.msg)}catch{}finally{t.rejectLoading=!1}}).catch(()=>{w({type:"info",message:"canceled"})})};return I(async()=>{await J(),h()}),(t,r)=>{const s=te,f=ae,b=ve,y=le,v=ne,M=re,$=oe;return C(),O("div",be,[R("div",we,[ee((C(),S(v,{ref:"multipleTableRef",height:"600px",data:g(e).content,border:"",style:{height:"100%"},"header-cell-style":{background:"#e0eeee"}},{default:m(()=>[i(s,{prop:"userid",label:"用户ID",align:"center",width:"140px"}),i(s,{prop:"username",label:"用户名",align:"center",width:"150px","show-overflow-tooltip":""}),i(s,{prop:"created_time",label:"上传时间",align:"center",width:"150px","show-overflow-tooltip":""}),i(s,{prop:"social_x_name",label:"social_x_name",align:"center","min-width":"130px","show-overflow-tooltip":""}),i(s,{prop:"social_dc_name",label:"social_dc_name",align:"center","min-width":"140px","show-overflow-tooltip":""}),i(s,{prop:"type",label:"勋章",align:"center"},{default:m(d=>[i(f,{type:d.row.type===1?"success":d.row.type===2?"warning":"danger",size:"small",effect:"dark"},{default:m(()=>[x(A(d.row.type===1?"一级":d.row.type===2?"二级":"三级"),1)]),_:2},1032,["type"])]),_:1}),i(s,{prop:"medal_id",label:"任务id",align:"center"}),i(s,{prop:"code",label:"任务代号",align:"center","min-width":"120px"}),i(s,{prop:"url",label:"文件",align:"center",width:"250","show-overflow-tooltip":""},{default:m(d=>[i(b,{to:d.row.url,target:"_blank",rel:"noopener",class:"hover:underline underline-offset-4 u-line-1"},{default:m(()=>[x(A(("stringStar"in t?t.stringStar:g(de))({value:p(d.row.url),characters:"***",start:4,end:10})),1)]),_:2},1032,["to"])]),_:1}),i(s,{label:"操作",width:"320",fixed:"right",align:"center"},{default:m(d=>[i(b,{to:d.row.url,target:"_blank",rel:"noopener",class:"mr-3"},{default:m(()=>[i(y,{type:"primary"},{default:m(()=>[x("查看")]),_:1})]),_:2},1032,["to"]),i(y,{type:"success",loading:d.row.passThroughLoading,onClick:F=>_(d.row)},{default:m(()=>[x("通过")]),_:2},1032,["loading","onClick"]),i(y,{type:"danger",loading:d.row.rejectLoading,onClick:F=>T(d.row)},{default:m(()=>[x("驳回")]),_:2},1032,["loading","onClick"])]),_:1})]),_:1},8,["data"])),[[$,g(u)]]),R("div",xe,[i(M,{"current-page":g(n).page,"onUpdate:currentPage":r[0]||(r[0]=d=>g(n).page=d),"page-size":g(n).limit,"onUpdate:pageSize":r[1]||(r[1]=d=>g(n).limit=d),"page-sizes":[20,50,100,500,1e3],layout:"total, sizes, prev, pager, next, jumper",total:g(e).totalElements,onCurrentChange:c,onSizeChange:o},null,8,["current-page","page-size","total"])])])])}}}),Te={class:"w-full h-full flex flex-col space-y-2 p-6"},Ue=P({__name:"task-audit",setup(l){const a=k("2");return(u,e)=>{const n=Ce,c=ie,o=ce;return C(),O("div",Te,[i(o,{modelValue:g(a),"onUpdate:modelValue":e[0]||(e[0]=p=>se(a)?a.value=p:null),class:"w-full h-full bg-black"},{default:m(()=>[i(c,{label:"等级2",name:"2"},{default:m(()=>[g(a)=="2"?(C(),S(n,{key:0,level:g(a)},null,8,["level"])):V("",!0)]),_:1}),i(c,{label:"等级3",name:"3"},{default:m(()=>[g(a)=="3"?(C(),S(n,{key:0,level:g(a)},null,8,["level"])):V("",!0)]),_:1})]),_:1},8,["modelValue"])])}}});export{Ue as default};
