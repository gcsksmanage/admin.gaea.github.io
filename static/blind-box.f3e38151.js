import{d as S,r as u,e as _,t as T,o as p,c as k,f as l,w as r,u as e,g as b,v as f,x as w,y as R,h as B,k as j,j as A,l as L,m as q,z,A as G,C as M,p as P,a as U,b as $,_ as H}from"./entry.011860c9.js";/* empty css                        *//* empty css                 */import{t as J}from"./throttle.fca0157a.js";/* empty css                  *//* empty css                 *//* empty css                     *//* empty css                   */import{f as K}from"./adminManage.6eea09cf.js";import"./request.cbc97653.js";const O=i=>(P("data-v-974d7d5b"),i=i(),U(),i),Q={class:"text-[#EBEBEB] pt-10 px-5"},W={class:"cursor-pointer hover:text-[#ebebeb]"},X=O(()=>$("span",{class:"iconfont icon-copy"},null,-1)),Y=S({__name:"blind-box",setup(i){const E=u(!1),c=u(!1),m=_({content:[]}),g=u(),y=u(),C=_({number:[{required:!0,message:"请输入",trigger:"blur"}]}),d=_({number:null}),F=t=>{t&&t.resetFields()},I=async t=>{t&&(c.value||await t.validate(async(o,v)=>{if(o)try{c.value=!0;const s=await K({number:d.number});s.code===200?(B.success({message:"创建成功",grouping:!0,type:"success"}),m.content=s.msg.map(([a,h])=>({cdkey:a})),y.value=m.content.map(a=>a.cdkey).join(",")):B.error({message:s.msg,grouping:!0,type:"error"})}catch{}finally{c.value=!1,F(t)}}))};return(t,o)=>{const v=j,s=A,a=L,h=q,V=z,D=G,x=T("copy"),N=M;return p(),k("div",Q,[l(h,{ref_key:"ruleFormRef",ref:g,inline:!0,"label-position":"right","label-width":"90px",model:e(d),rules:e(C),class:"flex w-fit"},{default:r(()=>[l(s,{label:"盲盒数:",prop:"number"},{default:r(()=>[l(v,{min:1,max:200,style:{width:"240px"},"controls-position":"right",modelValue:e(d).number,"onUpdate:modelValue":o[0]||(o[0]=n=>e(d).number=n),placeholder:"请输入需要创建的盲盒数量",clearable:""},null,8,["modelValue"])]),_:1}),l(a,{class:"w-[20%]",type:"success",loading:e(c),onClick:o[1]||(o[1]=n=>("throttle"in t?t.throttle:e(J))(()=>{I(e(g))}))},{default:r(()=>[b(" 创建 ")]),_:1},8,["loading"]),f((p(),w(a,{type:"primary"},{default:r(()=>[b(" 复制所有盲盒cdkey ")]),_:1})),[[x,e(y)]])]),_:1},8,["model","rules"]),f((p(),w(D,{ref:"multipleTableRef",height:"650px",data:e(m).content,border:""},{default:r(()=>[l(V,{prop:"cdkey",label:"cdkey",align:"center"},{default:r(n=>[f((p(),k("div",W,[b(R(n.row.cdkey)+" ",1),X])),[[x,n.row.cdkey]])]),_:1})]),_:1},8,["data"])),[[N,e(E)]])])}}});const ce=H(Y,[["__scopeId","data-v-974d7d5b"]]);export{ce as default};
