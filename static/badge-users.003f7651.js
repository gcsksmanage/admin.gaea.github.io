import{d as S,r as h,e as I,o as _,c as E,f as e,w as l,u as t,b as y,g as w,G as M,E as U,h as j,i as A,j as L,k as P,l as G,m as H,p as O,a as W,_ as q,n as K,H as X,I as J,s as N,v as V,t as k,x as Q,z as Y,A as Z,B as ee,q as $,C as te,D as le,F as oe}from"./entry.7a5a578c.js";import{_ as ae}from"./client-only.4bbb6572.js";/* empty css                 *//* empty css                *//* empty css                        *//* empty css                  *//* empty css                   */import{d as se,e as ne}from"./adminManage.defe7474.js";import{t as re}from"./throttle.46d02480.js";/* empty css                 *//* empty css               */import"./el-tooltip.4ed993c7.js";/* empty css                     *//* empty css                      *//* empty css                  *//* empty css                   */import{s as ie}from"./index.a0298ae1.js";/* empty css                */import"./request.c0233501.js";const de=v=>(O("data-v-b91dda28"),v=v(),W(),v),ce=de(()=>y("p",{class:"text-[#ebebeb] text-[16px] mb-5 ml-3"},"Reward Distribution",-1)),ue={class:"w-full flex justify-end"},pe=S({__name:"Rewards",props:{dialogVisible:{type:Boolean,default:!1},uid:{default:""},level:{default:2}},emits:["update:closeDialog","update:success"],setup(v,{emit:s}){const i=v,u=h(!1),d=I({uids:i.uid,box:0,usd:0}),f=()=>{s("update:closeDialog")},p=async()=>{M.confirm("Please confirm?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(async()=>{try{try{u.value=!0;const{box:b,usd:n}=d,x=await se({uids:i.uid,box:b,usd:n,medal_type:Number(i.level)});x.code===200?(s("update:success",i.uid),f(),U.success({message:"Distributed successfully"})):U.error({message:x.msg})}catch{}}catch{u.value=!1}finally{u.value=!1}}).catch(()=>{U({type:"info",message:"Canceled"})})},m=async()=>{};return(b,n)=>{const x=j,C=A,B=L,a=P,r=G,c=H,D=ae;return _(),E("div",null,[e(D,null,{default:l(()=>[e(c,{draggable:"","model-value":b.$props.dialogVisible,style:{"background-color":"black",border:"1px  #ebebeb solid","border-radius":"10px","padding-bottom":"30px"},title:"",width:"500px",class:"pl-12","align-center":"",onClose:f,onOpen:n[4]||(n[4]=g=>m())},{default:l(()=>[ce,e(r,{ref:"ruleFormRef",inline:!0,"label-position":"right","label-width":"90px",model:t(d),class:"flex flex-col w-fit"},{default:l(()=>[e(C,{label:"User ID:",prop:"uids",class:"w-[340px]"},{default:l(()=>[e(x,{modelValue:i.uid,"onUpdate:modelValue":n[0]||(n[0]=g=>i.uid=g),placeholder:"Please enter",clearable:"",disabled:""},null,8,["modelValue"])]),_:1}),e(C,{label:"Blind Box Count:",prop:"box"},{default:l(()=>[e(B,{min:0,max:200,"controls-position":"right",modelValue:t(d).box,"onUpdate:modelValue":n[1]||(n[1]=g=>t(d).box=g),placeholder:"Please enter",clearable:"",style:{width:"250px"}},null,8,["modelValue"])]),_:1}),e(C,{label:"USD:",prop:"number"},{default:l(()=>[e(B,{min:0,max:1e3,"controls-position":"right",modelValue:t(d).usd,"onUpdate:modelValue":n[2]||(n[2]=g=>t(d).usd=g),placeholder:"Please enter",clearable:"",style:{width:"250px"}},null,8,["modelValue"])]),_:1}),y("div",ue,[e(a,{loading:t(u),type:"success",class:"hover:scale-105",onClick:n[3]||(n[3]=g=>("throttle"in b?b.throttle:t(re))(()=>{p()}))},{default:l(()=>[w(" Distribute ")]),_:1},8,["loading"])])]),_:1},8,["model"])]),_:1},8,["model-value"])]),_:1})])}}});const me=q(pe,[["__scopeId","data-v-b91dda28"]]),_e={class:"w-full flex flex-col space-y-2 p-2"},fe={class:"w-full flex-1 overflow-y-auto"},be={class:"cursor-pointer hover:text-[#ebebeb]"},ge=y("span",{class:"iconfont icon-icon-copy"},null,-1),ve={class:"cursor-pointer hover:text-[#ebebeb]"},xe=y("span",{class:"iconfont icon-icon-copy"},null,-1),we={class:"flex justify-end"},he=S({__name:"index",props:{level:{default:""}},setup(v){const s=v,i=h(!1),u=h(!1),d=h(""),f=h({}),p=I({level:Number(s.level),page:1,limit:20}),m=I({content:[],totalElements:0}),b=a=>{p.page=a,x()},n=a=>{p.limit=a,x()},x=async()=>{try{const a={...p};i.value=!0;const r=await ne(a);i.value=!1,r.code===200?(m.content=r.data.map(c=>({...c,loading:!1})),m.totalElements=r.total):(m.content=[],m.totalElements=0,U({message:r.msg,grouping:!0,type:"error"}))}catch{i.value=!1}},C=a=>{u.value=!0,d.value=a.userid,f.value=a},B=a=>{f.value.status=1,Number(s.level)===2&&(f.value.blindbox+=100)};return K(async()=>{await X(),x()}),(a,r)=>{const c=Q,D=P,g=Y,R=Z,z=me,T=J("copy"),F=ee;return _(),E("div",_e,[y("div",fe,[N((_(),V(g,{ref:"multipleTableRef",height:"530px",data:t(m).content,border:""},{default:l(()=>[e(c,{prop:"userid",label:"User ID",align:"center","show-overflow-tooltip":""},{default:l(o=>[N((_(),E("div",be,[ge,w(" "+k(o.row.userid),1)])),[[T,o.row.userid]])]),_:1}),e(c,{prop:"blindbox",label:"Current Blind Box Count",align:"center",width:"200px"}),e(c,{prop:"username",label:"Username",align:"center","show-overflow-tooltip":""}),e(c,{prop:"eth_address",label:"Wallet Address",align:"center","show-overflow-tooltip":""},{default:l(o=>[N((_(),E("div",ve,[xe,w(" "+k(("stringStar"in a?a.stringStar:t(ie))({value:o.row.eth_address,characters:"***",start:4})),1)])),[[T,o.row.eth_address]])]),_:1}),e(c,{prop:"social_x_name",label:"Social X Name",align:"center","min-width":"130px","show-overflow-tooltip":""},{default:l(o=>[w(k(o.row.social_x_name||"Not bound"),1)]),_:1}),e(c,{prop:"social_dc_name",label:"Discord Name",align:"center","min-width":"140px","show-overflow-tooltip":""},{default:l(o=>[w(k(o.row.social_dc_name||"Not bound"),1)]),_:1}),e(c,{prop:"count",label:"Completed Tasks",align:"center"}),e(c,{label:"Action",width:"320",fixed:"right",align:"center"},{default:l(o=>[o.row.status===0?(_(),V(D,{key:0,type:"success",onClick:Ce=>C(o.row)},{default:l(()=>[w(" Grant ")]),_:2},1032,["onClick"])):(_(),V(D,{key:1,type:"success",disabled:""},{default:l(()=>[w(" Granted ")]),_:1}))]),_:1})]),_:1},8,["data"])),[[F,t(i)]])]),y("div",we,[e(R,{"current-page":t(p).page,"onUpdate:currentPage":r[0]||(r[0]=o=>t(p).page=o),"page-size":t(p).limit,"onUpdate:pageSize":r[1]||(r[1]=o=>t(p).limit=o),"page-sizes":[20,50,100,500,1e3],layout:"total, sizes, prev, pager, next, jumper",total:t(m).totalElements,onCurrentChange:b,onSizeChange:n},null,8,["current-page","page-size","total"])]),e(z,{"dialog-visible":t(u),uid:t(d),level:s.level,"onUpdate:success":B,"onUpdate:closeDialog":r[2]||(r[2]=o=>u.value=!1)},null,8,["dialog-visible","uid","level"])])}}}),ye={class:"w-full h-full flex flex-col space-y-2 p-6"},Ge=S({__name:"badge-users",setup(v){const s=h("2");return(i,u)=>{const d=he,f=le,p=oe;return _(),E("div",ye,[e(p,{modelValue:t(s),"onUpdate:modelValue":u[0]||(u[0]=m=>te(s)?s.value=m:null),class:"w-full h-full bg-black"},{default:l(()=>[e(f,{label:"Level 2",name:"2"},{default:l(()=>[t(s)=="2"?(_(),V(d,{key:0,level:t(s)},null,8,["level"])):$("",!0)]),_:1}),e(f,{label:"Level 3",name:"3"},{default:l(()=>[t(s)=="3"?(_(),V(d,{key:0,level:t(s)},null,8,["level"])):$("",!0)]),_:1})]),_:1},8,["modelValue"])])}}});export{Ge as default};
