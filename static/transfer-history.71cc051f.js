import{d as C,r as c,e as d,n as z,H as k,o as f,c as B,f as o,w as i,u as a,g as T,b as _,s as V,v as D,E as F,h as I,i as M,k as N,l as P,x as U,z as j,A,B as L}from"./entry.15a76552.js";/* empty css                 *//* empty css                *//* empty css                  *//* empty css                 *//* empty css               */import"./el-tooltip.4ed993c7.js";/* empty css                     *//* empty css                      *//* empty css                  *//* empty css                   */import{W as R}from"./adminManage.c8246d07.js";import"./request.72540ff6.js";const S={class:"w-full flex flex-col space-y-2 p-8"},H={class:"w-full flex-1 overflow-y-auto"},W={class:"flex justify-end"},ne=C({__name:"transfer-history",setup($){const r=c(!1);c(!1),c("");const t=d({page:1,limit:20,uid:""}),l=d({content:[],totalElements:0}),g=n=>{t.page=n,p()},b=n=>{t.limit=n,p()},p=async()=>{try{if(!t.uid)return;const n={...t};r.value=!0;const e=await R(n);r.value=!1,e.code===200?(l.content=e.data,l.totalElements=e.total):(l.content=[],l.totalElements=0,F({message:e.msg,grouping:!0,type:"error"}))}catch{r.value=!1}};return z(async()=>{await k(),p()}),(n,e)=>{const v=I,u=M,x=N,E=P,m=U,y=j,w=A,h=L;return f(),B("div",S,[o(E,{ref:"ruleFormRef",inline:!0,"label-position":"right",model:a(t)},{default:i(()=>[o(u,{label:"用户ID:",class:"w-[270px]"},{default:i(()=>[o(v,{modelValue:a(t).uid,"onUpdate:modelValue":e[0]||(e[0]=s=>a(t).uid=s),placeholder:"请输入",clearable:""},null,8,["modelValue"])]),_:1}),o(u,null,{default:i(()=>[o(x,{class:"w-[100px]",type:"primary",onClick:e[1]||(e[1]=s=>p()),loading:a(r)},{default:i(()=>[T(" 搜索 ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),_("div",H,[V((f(),D(y,{ref:"multipleTableRef",height:"530px",data:a(l).content,border:""},{default:i(()=>[o(m,{prop:"userid",label:"用户ID",align:"center"}),o(m,{prop:"username",label:"用户名",align:"center"}),o(m,{prop:"count",label:"数量",align:"center"})]),_:1},8,["data"])),[[h,a(r)]])]),_("div",W,[o(w,{"current-page":a(t).page,"onUpdate:currentPage":e[2]||(e[2]=s=>a(t).page=s),"page-size":a(t).limit,"onUpdate:pageSize":e[3]||(e[3]=s=>a(t).limit=s),"page-sizes":[20,50,100,500,1e3],layout:"total, sizes, prev, pager, next, jumper",total:a(l).totalElements,onCurrentChange:g,onSizeChange:b},null,8,["current-page","page-size","total"])])])}}});export{ne as default};
