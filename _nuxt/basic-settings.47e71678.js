import{d as G,r as n,t as L,o as x,c as k,b as a,f as r,u as s,F as v,w as V,g as h,y as B,v as N,D as S,h as t,i as I,l as H}from"./entry.0ba19b1b.js";/* empty css                 *//* empty css                  */import{c as F,d as M,e as R}from"./adminManage.52619c96.js";import{s as j}from"./index.6d85b2d4.js";import"./request.b1438f49.js";const q={class:"p-10 text-[#EBEBEB] space-y-5"},z={class:"flex items-center"},J=a("span",{class:""},"Hash：",-1),K={class:"flex items-center"},O=a("span",null,"Uid：",-1),P={class:"ml-5"},Q=a("span",null,"钱包地址：",-1),W={class:"flex items-center"},X=a("span",null,"Uid：",-1),Y={key:0},Z={class:"cursor-pointer hover:text-green-500"},le=G({__name:"basic-settings",setup($){const i=n(""),d=n(""),u=n(""),c=n(""),f=n(!1),g=n(!1),_=n(!1),m=n(),E=async()=>{if(!i.value.trim()){t.warning("请输入 Hash");return}try{f.value=!0;const e=await F({tx_chainid:"8453",tx_hash:i.value});e.code===200?(t.success("神格卡添加成功"),i.value=""):t.error(e.msg||"添加失败")}catch(e){console.error(e),t.error("请求失败，请重试")}finally{f.value=!1}},A=async()=>{if(!d.value.trim()||!c.value.trim()){t.warning("请填写 UID 和钱包地址");return}try{g.value=!0;const e=await M({uid:d.value,address:c.value});e.code===200?t.success("钱包解绑成功"):t.error(e.msg||"解绑失败")}catch(e){console.error(e),t.error("请求失败，请重试")}finally{d.value="",c.value="",g.value=!1}},C=async()=>{if(!u.value.trim()){t.warning("请输入 UID");return}try{_.value=!0;const e=await R(u.value);e.code===200?(t.success("Token 生成成功"),m.value=e.data,console.log("Token:",e.data.token)):t.error(e.msg||"生成失败")}catch(e){console.error(e),t.error("请求失败，请重试")}finally{u.value="",_.value=!1}};return(e,o)=>{var w,U,T,b;const p=I,y=H,D=L("copy");return x(),k("div",q,[a("div",z,[J,r(p,{modelValue:s(i),"onUpdate:modelValue":o[0]||(o[0]=l=>v(i)?i.value=l:null),style:{width:"300px",height:"40px"}},null,8,["modelValue"]),r(y,{type:"primary",style:{"margin-left":"10px"},onClick:E,loading:s(f)},{default:V(()=>[h("添加神格卡")]),_:1},8,["loading"])]),a("div",K,[a("div",null,[O,r(p,{modelValue:s(d),"onUpdate:modelValue":o[1]||(o[1]=l=>v(d)?d.value=l:null),style:{width:"300px",height:"40px"}},null,8,["modelValue"])]),a("div",P,[Q,r(p,{modelValue:s(c),"onUpdate:modelValue":o[2]||(o[2]=l=>v(c)?c.value=l:null),style:{width:"300px",height:"40px"}},null,8,["modelValue"])]),r(y,{type:"primary",style:{"margin-left":"10px"},onClick:A,loading:s(g)},{default:V(()=>[h("解绑钱包")]),_:1},8,["loading"])]),a("div",W,[X,r(p,{modelValue:s(u),"onUpdate:modelValue":o[3]||(o[3]=l=>v(u)?u.value=l:null),style:{width:"300px",height:"40px"}},null,8,["modelValue"]),r(y,{type:"primary",style:{"margin-left":"10px"},onClick:C,loading:s(_)},{default:V(()=>[h("生成Token")]),_:1},8,["loading"])]),s(m)?(x(),k("div",Y,[a("div",null,"用户名："+B((U=(w=s(m))==null?void 0:w.user_info)==null?void 0:U.name),1),N((x(),k("div",Z,[h(" token: "+B(("stringStar"in e?e.stringStar:s(j))({value:(T=s(m))==null?void 0:T.token,characters:"***",start:8,end:8})),1)])),[[D,(b=s(m))==null?void 0:b.token]])])):S("",!0)])}}});export{le as default};
