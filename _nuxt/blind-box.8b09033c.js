import{d as D,r as u,e as m,t as T,o as d,c as g,f as n,w as a,u as t,g as v,v as y,x as I,y as N,h as x,k as R,j as A,l as L,m as j,z as q,A as z,C as G,_ as M}from"./entry.0ba19b1b.js";/* empty css                        *//* empty css                 */import{t as P}from"./throttle.1d0e35fd.js";/* empty css                  *//* empty css                 *//* empty css                     *//* empty css                   */import{f as S}from"./adminManage.52619c96.js";import"./request.b1438f49.js";const U={class:"text-[#EBEBEB] pt-10 px-5"},$={class:"cursor-pointer hover:text-[#ebebeb]"},H=D({__name:"blind-box",setup(J){const h=u(!1),l=u(!1),_=m({content:[]}),p=u(),w=m({number:[{required:!0,message:"请输入",trigger:"blur"}]}),i=m({number:null}),B=e=>{e&&e.resetFields()},k=async e=>{e&&(l.value||await e.validate(async(r,f)=>{if(r)try{l.value=!0;const o=await S({number:i.number});o.code===200?(x.success({message:"创建成功",grouping:!0,type:"success"}),_.content=o.msg.map(([c,b])=>({cdkey:c}))):x.error({message:o.msg,grouping:!0,type:"error"})}catch(o){console.error(o)}finally{l.value=!1,B(e)}}))};return(e,r)=>{const f=R,o=A,c=L,b=j,E=q,C=z,F=T("copy"),V=G;return d(),g("div",U,[n(b,{ref_key:"ruleFormRef",ref:p,inline:!0,"label-position":"right","label-width":"90px",model:t(i),rules:t(w),class:"flex w-fit"},{default:a(()=>[n(o,{label:"盲盒数:",prop:"number"},{default:a(()=>[n(f,{min:1,max:200,style:{width:"240px"},"controls-position":"right",modelValue:t(i).number,"onUpdate:modelValue":r[0]||(r[0]=s=>t(i).number=s),placeholder:"请输入需要创建的盲盒数量",clearable:""},null,8,["modelValue"])]),_:1}),n(c,{class:"w-[20%]",type:"success",loading:t(l),onClick:r[1]||(r[1]=s=>("throttle"in e?e.throttle:t(P))(()=>{k(t(p))}))},{default:a(()=>[v(" 创建 ")]),_:1},8,["loading"])]),_:1},8,["model","rules"]),y((d(),I(C,{ref:"multipleTableRef",height:"650px",data:t(_).content,border:""},{default:a(()=>[n(E,{prop:"cdkey",label:"cdkey",align:"center"},{default:a(s=>[y((d(),g("div",$,[v(N(s.row.cdkey),1)])),[[F,s.row.cdkey]])]),_:1})]),_:1},8,["data"])),[[V,t(h)]])])}}});const re=M(H,[["__scopeId","data-v-c8eae4f5"]]);export{re as default};
