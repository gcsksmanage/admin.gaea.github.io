import{P as E,S as O,d as S,T as B,U as H,r as k,q as D,O as W,V as q,W as K,X,Y as G,Z as Q,$ as Y,a0 as Z,e as N,s as J,o as C,c as I,b as R,v as ee,u as v,x as L,w as m,f as c,g as w,y as A,E as j,h as x,z as te,a1 as ae,l as le,A as ne,B as re,C as oe,D as V,F as se,G as ie,H as ce}from"./entry.0ba19b1b.js";/* empty css                 *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                       *//* empty css                   */import{s as ue,t as z}from"./adminManage.52619c96.js";/* empty css                */import"./request.b1438f49.js";const P=globalThis.requestIdleCallback||(l=>{const a=Date.now(),u={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-a))};return setTimeout(()=>{l(u)},1)}),de=globalThis.cancelIdleCallback||(l=>{clearTimeout(l)}),fe=l=>{const a=E();a.isHydrating?a.hooks.hookOnce("app:suspense:resolve",()=>{P(l)}):P(l)};async function U(l,a=O()){const{path:u,matched:e}=a.resolve(l);if(!e.length||(a._routePreloaded||(a._routePreloaded=new Set),a._routePreloaded.has(u)))return;const r=a._preloadPromises=a._preloadPromises||[];if(r.length>4)return Promise.all(r).then(()=>U(l,a));a._routePreloaded.add(u);const s=e.map(o=>{var p;return(p=o.components)==null?void 0:p.default}).filter(o=>typeof o=="function");for(const o of s){const p=Promise.resolve(o()).catch(()=>{}).finally(()=>r.splice(r.indexOf(p)));r.push(p)}await Promise.all(r)}const pe=(...l)=>l.find(a=>a!==void 0),me="noopener noreferrer";/*! @__NO_SIDE_EFFECTS__ */function ge(l){const a=l.componentName||"NuxtLink",u=(e,r)=>{if(!e||l.trailingSlash!=="append"&&l.trailingSlash!=="remove")return e;const s=l.trailingSlash==="append"?Q:Y;if(typeof e=="string")return s(e,!0);const o="path"in e?e.path:r(e).path;return{...e,name:void 0,path:s(o,!0)}};return S({name:a,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1}},setup(e,{slots:r}){const s=O(),o=B(()=>{const t=e.to||e.href||"";return u(t,s.resolve)}),p=B(()=>e.external||e.target&&e.target!=="_self"?!0:typeof o.value=="object"?!1:o.value===""||H(o.value,{acceptRelative:!0})),g=k(!1),_=k(null),T=t=>{var n;_.value=e.custom?(n=t==null?void 0:t.$el)==null?void 0:n.nextElementSibling:t==null?void 0:t.$el};if(e.prefetch!==!1&&e.noPrefetch!==!0&&e.target!=="_blank"&&!_e()){const n=E();let i,f=null;D(()=>{const b=ve();fe(()=>{i=P(()=>{var y;(y=_==null?void 0:_.value)!=null&&y.tagName&&(f=b.observe(_.value,async()=>{f==null||f(),f=null;const h=typeof o.value=="string"?o.value:s.resolve(o.value).fullPath;await Promise.all([n.hooks.callHook("link:prefetch",h).catch(()=>{}),!p.value&&U(o.value,s).catch(()=>{})]),g.value=!0}))})})}),W(()=>{i&&de(i),f==null||f(),f=null})}return()=>{var b,y;if(!p.value){const h={ref:T,to:o.value,activeClass:e.activeClass||l.activeClass,exactActiveClass:e.exactActiveClass||l.exactActiveClass,replace:e.replace,ariaCurrentValue:e.ariaCurrentValue,custom:e.custom};return e.custom||(g.value&&(h.class=e.prefetchedClass||l.prefetchedClass),h.rel=e.rel),q(K("RouterLink"),h,r.default)}const t=typeof o.value=="object"?((b=s.resolve(o.value))==null?void 0:b.href)??null:o.value||null,n=e.target||null,i=e.noRel?null:pe(e.rel,l.externalRelAttribute,t?me:"")||null,f=()=>Z(t,{replace:e.replace});return e.custom?r.default?r.default({href:t,navigate:f,get route(){if(!t)return;const h=X(t);return{path:h.pathname,fullPath:h.pathname,get query(){return G(h.search)},hash:h.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:t}},rel:i,target:n,isExternal:p.value,isActive:!1,isExactActive:!1}):null:q("a",{ref:_,href:t,rel:i,target:n},(y=r.default)==null?void 0:y.call(r))}}})}const he=ge({componentName:"NuxtLink"});function ve(){const l=E();if(l._observer)return l._observer;let a=null;const u=new Map,e=(s,o)=>(a||(a=new IntersectionObserver(p=>{for(const g of p){const _=u.get(g.target);(g.isIntersecting||g.intersectionRatio>0)&&_&&_()}})),u.set(s,o),a.observe(s),()=>{u.delete(s),a.unobserve(s),u.size===0&&(a.disconnect(),a=null)});return l._observer={observe:e}}function _e(){const l=navigator.connection;return!!(l&&(l.saveData||/2g/.test(l.effectiveType)))}const ye={class:"w-full h-full flex flex-col space-y-2 p-6"},be={class:"w-full flex-1 overflow-y-auto"},xe={class:"flex justify-end"},we=S({__name:"Index",props:{level:{default:""}},setup(l){const a=l,u=k(!1),e=N({content:[],totalElements:0}),r=N({level:Number(a.level),page:1,limit:20}),s=t=>{r.page=t,g()},o=t=>{r.limit=t,g()},p=t=>{const f=new URL(t).pathname.split("/");return f[f.length-1]},g=async()=>{try{u.value=!0;const t={...r},n=await ue(t);u.value=!1,n.code&&(e.content=n.data.map(i=>({...i,passThroughLoading:!1,rejectLoading:!1}))),console.log(n.data)}catch(t){u.value=!1,console.log(t)}finally{u.value=!1}},_=t=>{j.confirm("please confirm?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(async()=>{try{t.passThroughLoading=!0;const n=await z({id:t.id,status:2});t.passThroughLoading=!1,n.code===200?(x.success(n.data),g()):x.error(n.msg)}catch(n){console.log(n)}finally{t.passThroughLoading=!1}}).catch(()=>{x({type:"info",message:"canceled"})})},T=t=>{j.confirm("please confirm?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(async()=>{try{t.rejectLoading=!0;const n=await z({id:t.id,status:-2});t.rejectLoading=!1,n.code===200?(x.success(n.data),g()):x.error(n.msg),console.log(n,"res")}catch(n){console.log(n)}finally{t.rejectLoading=!1}}).catch(()=>{x({type:"info",message:"canceled"})})};return D(async()=>{await J(),g()}),(t,n)=>{const i=te,f=ae,b=he,y=le,h=ne,M=re,$=oe;return C(),I("div",ye,[R("div",be,[ee((C(),L(h,{ref:"multipleTableRef",height:"600px",data:v(e).content,border:"",style:{height:"100%"},"header-cell-style":{background:"#e0eeee"}},{default:m(()=>[c(i,{prop:"userid",label:"用户ID",align:"center",width:"150px"}),c(i,{prop:"username",label:"用户名",align:"center",width:"150px"}),c(i,{prop:"social_x_name",label:"social_x_name",align:"center","min-width":"120px"}),c(i,{prop:"social_dc_name",label:"social_dc_name",align:"center","min-width":"120px"}),c(i,{prop:"type",label:"勋章",align:"center"},{default:m(d=>[c(f,{type:d.row.type===1?"success":d.row.type===2?"warning":"danger",size:"small",effect:"dark"},{default:m(()=>[w(A(d.row.type===1?"一级":d.row.type===2?"二级":"三级"),1)]),_:2},1032,["type"])]),_:1}),c(i,{prop:"medal_id",label:"任务id",align:"center"}),c(i,{prop:"code",label:"任务代号",align:"center","min-width":"120px"}),c(i,{prop:"url",label:"文件",align:"center",width:"250"},{default:m(d=>[c(b,{to:d.row.url,target:"_blank",rel:"noopener",class:"hover:underline underline-offset-4 u-line-1"},{default:m(()=>[w(A(p(d.row.url)),1)]),_:2},1032,["to"])]),_:1}),c(i,{label:"操作",width:"320",fixed:"right",align:"center"},{default:m(d=>[c(b,{to:d.row.url,target:"_blank",rel:"noopener",class:"mr-3"},{default:m(()=>[c(y,{type:"primary"},{default:m(()=>[w("查看")]),_:1})]),_:2},1032,["to"]),c(y,{type:"success",loading:d.row.passThroughLoading,onClick:F=>_(d.row)},{default:m(()=>[w("通过")]),_:2},1032,["loading","onClick"]),c(y,{type:"danger",loading:d.row.rejectLoading,onClick:F=>T(d.row)},{default:m(()=>[w("驳回")]),_:2},1032,["loading","onClick"])]),_:1})]),_:1},8,["data"])),[[$,v(u)]]),R("div",xe,[c(M,{"current-page":v(r).page,"onUpdate:currentPage":n[0]||(n[0]=d=>v(r).page=d),"page-size":v(r).limit,"onUpdate:pageSize":n[1]||(n[1]=d=>v(r).limit=d),"page-sizes":[20,50,100,500,1e3],layout:"total, sizes, prev, pager, next, jumper",total:v(e).totalElements,onCurrentChange:s,onSizeChange:o},null,8,["current-page","page-size","total"])])])])}}}),Ce={class:"w-full h-full flex flex-col space-y-2 p-6"},je=S({__name:"task-audit",setup(l){const a=k("2");return(u,e)=>{const r=we,s=ie,o=ce;return C(),I("div",Ce,[c(o,{modelValue:v(a),"onUpdate:modelValue":e[0]||(e[0]=p=>se(a)?a.value=p:null),class:"w-full h-full bg-black"},{default:m(()=>[c(s,{label:"等级2",name:"2"},{default:m(()=>[v(a)=="2"?(C(),L(r,{key:0,level:v(a)},null,8,["level"])):V("",!0)]),_:1}),c(s,{label:"等级3",name:"3"},{default:m(()=>[v(a)=="3"?(C(),L(r,{key:0,level:v(a)},null,8,["level"])):V("",!0)]),_:1})]),_:1},8,["modelValue"])])}}});export{je as default};
