import{d as V,r as m,e as p,t as D,o as d,c as v,f as s,w as a,u as t,g as y,v as x,x as I,y as N,h,k as R,j as A,l as L,m as j,z as q,A as z,C as G,_ as M}from"./entry.0ba19b1b.js";/* empty css                        *//* empty css                 */import{t as O}from"./throttle.1d0e35fd.js";/* empty css                  *//* empty css                 *//* empty css                     *//* empty css                   */import{u as P}from"./adminManage.52619c96.js";import"./request.b1438f49.js";const S={class:"text-[#EBEBEB] pt-10 px-5"},U={class:"cursor-pointer hover:text-[#ebebeb]"},$=V({__name:"ticket-box",setup(H){const k=m(!1),l=m(!1),_=p({content:[]}),f=m(),w=p({number:[{required:!0,message:"请输入票盒数量",trigger:"blur"}]}),i=p({number:null}),B=e=>{e&&e.resetFields()},E=async e=>{e&&(l.value||await e.validate(async(r,b)=>{if(r)try{l.value=!0;const o=await P({number:i.number});o.code===200?(h.success({message:"创建成功",grouping:!0,type:"success"}),_.content=o.msg.map(([c,u])=>({cdkey:c,numberOfTimes:u}))):h.error({message:o.msg,grouping:!0,type:"error"})}catch(o){console.error(o)}finally{l.value=!1,B(e)}}))};return(e,r)=>{const b=R,o=A,c=L,u=j,g=q,T=z,C=D("copy"),F=G;return d(),v("div",S,[s(u,{ref_key:"ruleFormRef",ref:f,inline:!0,"label-position":"right","label-width":"90px",model:t(i),rules:t(w),class:"flex w-fit"},{default:a(()=>[s(o,{label:"票盒数:",prop:"number"},{default:a(()=>[s(b,{min:1,max:200,style:{width:"240px"},"controls-position":"right",modelValue:t(i).number,"onUpdate:modelValue":r[0]||(r[0]=n=>t(i).number=n),placeholder:"请输入需要创建的票盒数量",clearable:""},null,8,["modelValue"])]),_:1}),s(c,{class:"w-[20%]",type:"success",loading:t(l),onClick:r[1]||(r[1]=n=>("throttle"in e?e.throttle:t(O))(()=>{E(t(f))}))},{default:a(()=>[y(" 创建 ")]),_:1},8,["loading"])]),_:1},8,["model","rules"]),x((d(),I(T,{ref:"multipleTableRef",height:"650px",data:t(_).content,border:""},{default:a(()=>[s(g,{prop:"cdkey",label:"cdkey",align:"center"},{default:a(n=>[x((d(),v("div",U,[y(N(n.row.cdkey),1)])),[[C,n.row.cdkey]])]),_:1}),s(g,{prop:"numberOfTimes",label:"次数",align:"center"})]),_:1},8,["data"])),[[F,t(k)]])])}}});const re=M($,[["__scopeId","data-v-3814dc32"]]);export{re as default};
